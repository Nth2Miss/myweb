<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>在线随机字符串生成工具</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden; /* 防止整个页面滚动 */
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 20px auto;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: calc(100vh - 80px); /* 限制容器高度 */
        }

        header {
            background: linear-gradient(135deg, #6e8efb 0%, #a777e3 100%);
            color: white;
            padding: 30px;
            text-align: center;
            flex-shrink: 0; /* 防止header被压缩 */
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .description {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .main-content {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
            flex-grow: 1;
            overflow: hidden; /* 防止内容溢出 */
        }

        .config-panel {
            flex: 1;
            min-width: 320px;
            padding: 25px;
            border-right: 1px solid #eee;
            overflow-y: auto; /* 允许配置面板滚动 */
            max-height: 100%;
        }

        .result-panel {
            flex: 1;
            min-width: 320px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            overflow: hidden; /* 隐藏溢出 */
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #555;
            font-size: 1.1rem;
        }

        input[type="number"] {
            width: 100%;
            padding: 14px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus {
            border-color: #6e8efb;
            outline: none;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            padding: 10px 15px;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .checkbox-item:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }

        .checkbox-item input {
            margin-right: 8px;
            width: 18px;
            height: 18px;
        }

        button {
            display: block;
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #6e8efb 0%, #a777e3 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        button:hover {
            opacity: 0.9;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .result-box {
            background-color: #f8f9fa;
            border: 2px solid #eee;
            border-radius: 8px;
            padding: 20px;
            flex-grow: 1;
            overflow-y: auto; /* 仅结果区域可滚动 */
            font-family: 'Courier New', monospace;
            line-height: 1.8;
            font-size: 16px;
            min-height: 200px;
            max-height: calc(100vh - 400px); /* 限制最大高度 */
        }

        .result-line {
            padding: 8px 5px;
            border-bottom: 1px dashed #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .result-line:last-child {
            border-bottom: none;
        }

        .copy-btn {
            background: #28a745;
            margin-top: 15px;
        }

        .copy-btn:hover {
            background: #218838;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .action-buttons button {
            flex: 1;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background-color: #4CAF50;
            color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transition: opacity 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification.show {
            opacity: 1;
        }

        .icon {
            margin-right: 8px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .config-panel {
                border-right: none;
                border-bottom: 1px solid #eee;
                max-height: none;
            }

            h1 {
                font-size: 2rem;
            }

            .container {
                height: auto;
                max-height: none;
            }
        }

        footer {
            text-align: center;
            padding: 20px;
            color: #6c757d;
            font-size: 0.9rem;
            margin-top: auto;
            flex-shrink: 0;
        }

        .strength-meter {
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }

        .strength-fill {
            height: 100%;
            width: 0;
            transition: width 0.3s;
            border-radius: 5px;
        }

        .strength-weak {
            background: #dc3545;
            width: 33%;
        }

        .strength-medium {
            background: #ffc107;
            width: 66%;
        }

        .strength-strong {
            background: #28a745;
            width: 100%;
        }
    </style>
</head>
<body>
<div class="container">
    <header>
        <h1><i class="fas fa-key icon"></i>在线随机字符串生成工具</h1>
        <p class="description">快速生成安全可靠的随机字符串，适用于密码、验证码、密钥等场景</p>
    </header>

    <div class="main-content">
        <div class="config-panel">
            <div class="form-group">
                <label for="length"><i class="fas fa-ruler-horizontal icon"></i>字符串长度</label>
                <input type="number" id="length" min="1" max="1000" value="16">
            </div>

            <div class="form-group">
                <label for="quantity"><i class="fas fa-list-ol icon"></i>生成数量</label>
                <input type="number" id="quantity" min="1" max="50" value="5">
            </div>

            <div class="form-group">
                <label><i class="fas fa-check-square icon"></i>包含字符类型</label>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="uppercase" checked>
                        <label for="uppercase">大写字母 (A-Z)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="lowercase">
                        <label for="lowercase">小写字母 (a-z)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="numbers" checked>
                        <label for="numbers">数字 (0-9)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="symbols">
                        <label for="symbols">符号 (!@#$%等)</label>
                    </div>
                </div>
            </div>

<!--            <div class="form-group">-->
<!--                <label><i class="fas fa-lock icon"></i>密码强度</label>-->
<!--                <div class="strength-meter">-->
<!--                    <div class="strength-fill" id="strength-fill"></div>-->
<!--                </div>-->
<!--            </div>-->

            <button id="generate-btn">
                <i class="fas fa-bolt icon"></i>生成随机字符串
            </button>
        </div>

        <div class="result-panel">
            <label><i class="fas fa-list icon"></i>生成结果</label>
            <div class="result-box" id="result">
                <!-- 结果将在这里显示 -->
            </div>

            <div class="action-buttons">
                <button id="copy-btn" class="copy-btn">
                    <i class="fas fa-copy icon"></i>复制到剪贴板
                </button>
                <button id="clear-btn">
                    <i class="fas fa-trash icon"></i>清除结果
                </button>
            </div>
        </div>
    </div>

<!--    <footer>-->
<!--        <p>© 2023 随机字符串生成工具 | 设计精美，使用便捷</p>-->
<!--    </footer>-->
</div>

<div class="notification" id="notification">
    <i class="fas fa-check-circle"></i>已复制到剪贴板！
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const generateBtn = document.getElementById('generate-btn');
        const copyBtn = document.getElementById('copy-btn');
        const clearBtn = document.getElementById('clear-btn');
        const resultElement = document.getElementById('result');
        const notification = document.getElementById('notification');
        const strengthFill = document.getElementById('strength-fill');

        // 字符池
        const charPools = {
            uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
            lowercase: 'abcdefghijklmnopqrstuvwxyz',
            numbers: '0123456789',
            symbols: '!@#$%^&*()_+-=[]{}|;:,.<>?'
        };

        // 更新密码强度显示
        function updateStrengthMeter() {
            const length = parseInt(document.getElementById('length').value) || 12;
            const uppercase = document.getElementById('uppercase').checked;
            const lowercase = document.getElementById('lowercase').checked;
            const numbers = document.getElementById('numbers').checked;
            const symbols = document.getElementById('symbols').checked;

            let strength = 0;

            // 长度评分
            if (length >= 16) strength += 2;
            else if (length >= 12) strength += 1;

            // 字符类型评分
            const typeCount = [uppercase, lowercase, numbers, symbols].filter(Boolean).length;
            strength += typeCount;

            // 更新UI
            strengthFill.className = 'strength-fill';
            if (strength >= 5) {
                strengthFill.classList.add('strength-strong');
            } else if (strength >= 3) {
                strengthFill.classList.add('strength-medium');
            } else {
                strengthFill.classList.add('strength-weak');
            }
        }

        // 生成随机字符串
        function generateRandomString() {
            const length = parseInt(document.getElementById('length').value) || 12;
            const quantity = parseInt(document.getElementById('quantity').value) || 5;

            // 构建字符池
            let pool = '';
            if (document.getElementById('uppercase').checked) pool += charPools.uppercase;
            if (document.getElementById('lowercase').checked) pool += charPools.lowercase;
            if (document.getElementById('numbers').checked) pool += charPools.numbers;
            if (document.getElementById('symbols').checked) pool += charPools.symbols;

            // 至少选择一种字符类型
            if (!pool) {
                alert('请至少选择一种字符类型！');
                return [];
            }

            // 生成指定数量的随机字符串
            let results = [];
            for (let i = 0; i < quantity; i++) {
                let result = '';
                for (let j = 0; j < length; j++) {
                    const randomIndex = Math.floor(Math.random() * pool.length);
                    result += pool[randomIndex];
                }
                results.push(result);
            }

            return results;
        }

        // 显示结果
        function displayResults(results) {
            resultElement.innerHTML = '';

            if (results.length === 0) {
                resultElement.innerHTML = '<div class="result-line">暂无结果，请点击生成按钮</div>';
                return;
            }

            results.forEach((str, index) => {
                const line = document.createElement('div');
                line.className = 'result-line';
                line.innerHTML = `
                        <span>${index + 1}. ${str}</span>
                        <button class="copy-line-btn" data-text="${str}" style="padding: 5px 10px; font-size: 12px;">
                            <i class="fas fa-copy"></i>
                        </button>
                    `;
                resultElement.appendChild(line);
            });

            // 为每行的复制按钮添加事件
            document.querySelectorAll('.copy-line-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const text = this.getAttribute('data-text');
                    navigator.clipboard.writeText(text).then(() => {
                        showNotification('已复制一行到剪贴板！');
                    });
                });
            });
        }

        // 显示通知
        function showNotification(message) {
            notification.innerHTML = `<i class="fas fa-check-circle"></i>${message}`;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        // 生成按钮点击事件
        generateBtn.addEventListener('click', function() {
            const randomStrings = generateRandomString();
            displayResults(randomStrings);
            updateStrengthMeter();
        });

        // 复制按钮点击事件
        copyBtn.addEventListener('click', function() {
            if (!resultElement.textContent || resultElement.textContent.includes('暂无结果')) {
                alert('没有内容可复制！');
                return;
            }

            const allText = Array.from(resultElement.querySelectorAll('.result-line span'))
                .map(span => span.textContent.replace(/^\d+\.\s/, ''))
                .join('\n');

            navigator.clipboard.writeText(allText)
                .then(() => {
                    showNotification('已复制所有内容到剪贴板！');
                })
                .catch(err => {
                    console.error('复制失败:', err);
                    alert('复制失败，请手动复制内容。');
                });
        });

        // 清除按钮点击事件
        clearBtn.addEventListener('click', function() {
            resultElement.innerHTML = '<div class="result-line">暂无结果，请点击生成按钮</div>';
        });

        // 输入变化时更新密码强度
        document.getElementById('length').addEventListener('input', updateStrengthMeter);
        document.getElementById('uppercase').addEventListener('change', updateStrengthMeter);
        document.getElementById('lowercase').addEventListener('change', updateStrengthMeter);
        document.getElementById('numbers').addEventListener('change', updateStrengthMeter);
        document.getElementById('symbols').addEventListener('change', updateStrengthMeter);

        // 页面加载时自动生成一次
        generateBtn.click();
    });
</script>
</body>
</html><!DOCTYPE html>

